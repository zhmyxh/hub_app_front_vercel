import{r as n,b as g,j as e,a as N,u as S,f as E,c as I,S as p,d as u,m as _,n as C,N as k}from"./index-D_qYkNUC.js";import{S as B}from"./icon-users-DZLvRTv3.js";import{S as M}from"./icon-calendar-BOvvlqYr.js";import{S as W}from"./SmartImage-BlH6ybUT.js";import{S as D}from"./icon-warning-CYGsvqbe.js";const z=a=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...a},n.createElement("rect",{width:24,height:24,fill:"none"}),n.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v14.19l4.72-4.72a.75.75 0 1 1 1.06 1.06l-6 6a.75.75 0 0 1-1.06 0l-6-6a.75.75 0 1 1 1.06-1.06l4.72 4.72V4a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})),A=a=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...a},n.createElement("rect",{width:24,height:24,fill:"none"}),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"#000",d:"M10.464 3.282a2 2 0 0 1 2.964-.12l.108.12L17.468 8h2.985a1.49 1.49 0 0 1 1.484 1.655l-.092.766l-.1.74l-.082.554l-.095.595l-.108.625l-.122.648l-.136.661q-.108.5-.232.999a21 21 0 0 1-.832 2.583l-.221.54l-.214.488l-.202.434l-.094.194l-.249.49c-.32.61-.924.97-1.563 1.022l-.16.006H6.555a1.93 1.93 0 0 1-1.71-1.008l-.232-.45l-.18-.37l-.095-.205l-.2-.449a21.5 21.5 0 0 1-1.108-3.276a32 32 0 0 1-.156-.654l-.142-.648l-.127-.634l-.112-.613l-.1-.587l-.087-.554l-.074-.513l-.09-.683l-.066-.556l-.017-.153a1.49 1.49 0 0 1 1.348-1.64L3.543 8h2.989zm-.503 9.44a1 1 0 0 0-1.96.326l.013.116l.5 3l.025.114a1 1 0 0 0 1.96-.326l-.013-.116l-.5-3zm5.203-.708a1 1 0 0 0-1.125.708l-.025.114l-.5 3a1 1 0 0 0 1.947.442l.025-.114l.5-3a1 1 0 0 0-.822-1.15M12 4.562L9.135 8h5.73z"}))),R=a=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...a},n.createElement("rect",{width:24,height:24,fill:"none"}),n.createElement("path",{fill:"#000",d:"M18 12.998h-5v5a1 1 0 0 1-2 0v-5H6a1 1 0 0 1 0-2h5v-5a1 1 0 0 1 2 0v5h5a1 1 0 0 1 0 2"})),T=a=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...a},n.createElement("rect",{width:24,height:24,fill:"none"}),n.createElement("path",{fill:"#000",d:"M18 12.998H6a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2"}));function x({name:a,icon:d,color:c,type:l,action:i,wd:o,size:s}){const{t:r}=g();let h="";return n.useEffect(()=>{l==="main"&&!c&&(h="default-text"),l==="secondary"&&(h="secondary-text"),l==="main"&&c&&(h="white-text")},[]),e.jsxs("button",{className:`button-${l} ${c||""}`,style:{width:o?"100%":"fit-content"},onClick:i,children:[d&&d,e.jsx("span",{className:h,style:{fontSize:s||16},children:a})]})}function F({event:a,handleStep:d,setCurrentOption:c}){const{user:l}=E(),{t:i}=g(),o=s=>{d("forward"),c(s)};return e.jsx("div",{id:"wager-title",children:a?e.jsxs("div",{id:"event-box",children:[e.jsxs("div",{id:"event-info-box",children:[e.jsx("div",{id:"event-image",children:e.jsx(W,{src:a.image_payload,alt:"Event icon",width:85,height:85})}),e.jsxs("div",{id:"event-info",children:[e.jsx("span",{className:"header-text",children:a.question}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[e.jsx(M,{className:"icon-default",width:15,height:15}),e.jsx("span",{className:"secondary-text",children:a?.bet_close_date&&I(a.bet_close_date)})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx("span",{className:"secondary-text",children:i("header.placeabet")}),e.jsxs("div",{id:"event-wager-warning",style:{marginBottom:10},children:[e.jsx("div",{style:{width:20,height:20},children:e.jsx(D,{className:"icon-default",width:20,height:20})}),e.jsx("span",{className:"secondary-text",children:i("warning.placeabet")})]}),e.jsx("div",{id:"event-actions",children:a?.options&&a.options.map((s,r)=>e.jsx(x,{name:i("option."+s.name),icon:e.jsx(A,{className:"icon-invert",width:20,height:20}),color:r===0?"b-g":"b-r",wd:!0,action:()=>o(s)}))})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx("span",{className:"secondary-text",children:i("header.stats")}),e.jsx("div",{id:"event-wages",children:a?.options&&a.options.map((s,r)=>e.jsxs("div",{className:"event-wage",children:[e.jsxs("span",{className:"secondary-text",children:["«",i("option."+s.name),"»"]}),e.jsxs("span",{className:"header-text",children:[s.percent,"%"]})]},r))}),e.jsx("div",{className:"event-stats-table",children:e.jsxs("table",{children:[e.jsx("tr",{children:a?.options&&a.options.map((s,r)=>e.jsxs("th",{children:["«",i("option."+s.name),"»"]}))}),e.jsx("tr",{children:a?.options&&a.options.map((s,r)=>e.jsx("td",{children:e.jsx("div",{className:"cell-content",children:e.jsx(p,{value:s.option_pool,icon:e.jsx(u,{width:18,height:18})})})}))})]})}),e.jsxs("div",{id:"event-stats",children:[e.jsxs("div",{className:"event-stat-box",children:[e.jsx("span",{className:"secondary-text",children:i("header.totalpool")}),e.jsx(p,{value:a.total_pool,icon:e.jsx(u,{width:18,height:18})})]}),e.jsxs("div",{className:"event-stat-box",children:[e.jsx("span",{className:"secondary-text",children:i("header.participants")}),e.jsx(p,{value:a.total_wagers,icon:e.jsx(B,{className:"icon-default",width:18,height:18})})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx("span",{className:"secondary-text",children:i("header.userparticipating")}),a.is_user_participating&&e.jsxs("div",{id:"event-user-info",children:[e.jsxs("div",{id:"event-user-participating",children:[e.jsx(_,{className:"icon-default",width:20,height:20}),e.jsx("span",{className:"secondary-text",children:e.jsx(C,{i18nKey:"definition.userwagers",values:{value:l.username,br:e.jsx("br",{})},components:{b:e.jsx("b",{})}})})]}),e.jsx("div",{className:"event-stats-table",children:e.jsxs("table",{children:[e.jsx("tr",{children:a?.options&&a.options.map((s,r)=>e.jsxs("th",{children:["«",i("option."+s.name),"»"]}))}),e.jsx("tr",{children:a?.options&&a.options.map((s,r)=>e.jsx("td",{children:e.jsx("div",{className:"cell-content",children:e.jsx(p,{value:s.user_wager,icon:e.jsx(u,{width:18,height:18})})})}))})]})})]})]})]}):e.jsx(k,{})})}function H({currentOption:a}){const{t:d}=g(),[c,l]=n.useState(0),i=[20,50,70,100,150,200],o=s=>{s==="add"&&c<500&&l(r=>r+5),s==="reduce"&&c>0&&l(r=>r-5),typeof s=="number"&&s<500&&s>0&&l(s),s||l(0)};return e.jsxs("div",{id:"wager-buy",children:[e.jsxs("div",{id:"wager-info",children:[e.jsx("span",{className:"secondary-text",children:d("header.youroption")}),e.jsxs("div",{id:"wager-current-option",children:[e.jsxs("span",{className:"header-text",style:{fontWeight:"bold",fontSize:24},children:["«",d("option."+a.name),"»"]}),e.jsxs("span",{className:"secondary-text",children:[d("header.chance"),": ",a.percent,"%"]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx("span",{className:"secondary-text",children:d("header.amount")}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(p,{value:c,icon:e.jsx(u,{width:18,height:18}),filled:!0})}),e.jsxs("div",{id:"wager-bet-amount",children:[e.jsx(u,{width:24,height:24}),e.jsx("input",{id:"wager-bet-input",type:"number",placeholder:d("definition.typeamount"),onChange:s=>o(Number(s.currentTarget.value))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx("button",{className:"button-i",onClick:()=>o("add"),children:e.jsx(R,{className:"icon-default",width:20,height:20})}),e.jsx("button",{className:"button-i",onClick:()=>o("reduce"),children:e.jsx(T,{className:"icon-default",width:20,height:20})})]})]}),e.jsx("div",{id:"wager-amounts",children:i.map(s=>e.jsx(x,{name:s,type:"alter",size:14,action:()=>o(s)}))})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsx(x,{name:d("header.placeabet"),type:"main",color:"b-b",wd:!0}),e.jsx(x,{name:d("button.clear"),type:"secondary",wd:!0,action:()=>c>0&&l(0)})]})]})}function L(){return e.jsxs("div",{id:"wager",children:[e.jsxs("div",{id:"wager-status",children:[e.jsx("span",{className:"secondary-text",children:t("header.paymentstatus")}),e.jsx("span",{className:"header-test",children:t("header.success")})]}),e.jsx(x,{name:t("button.back"),type:"main",color:"b-b",wd:!0})]})}function O(){return e.jsxs("div",{id:"wager",children:[e.jsxs("div",{id:"wager-status",children:[e.jsx("span",{className:"secondary-text",children:t("header.paymentstatus")}),e.jsx("span",{className:"header-test",children:t("header.success")})]}),e.jsx(x,{name:t("button.back"),type:"main",color:"b-b",wd:!0})]})}function V(){const{toggleModal:a,modalIndex:d}=N(),{events:c}=S(),{t:l}=g(),[i,o]=n.useState({}),[s,r]=n.useState(1),[h,w]=n.useState({}),[f,y]=n.useState(!0),b=["definition.wagerstep.1","definition.wagerstep.1"];n.useEffect(()=>{const j=c.find(m=>Number(m.event_id)===d);o(j)},[]);const v=j=>{j==="back"&&s>1&&r(m=>m-1),j==="forward"&&s<3&&r(m=>m+1)};return e.jsxs("div",{id:"wager",children:[s===1&&e.jsx(F,{event:i,handleStep:v,setCurrentOption:w}),s===2&&e.jsx(H,{event:i,handleStep:v,currentOption:h,setPaymentStatus:y}),s===4&&f&&e.jsx(L,{}),s===4&&!f&&e.jsx(O,{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:20},children:[s!==1&&e.jsx("div",{id:"wager-page-buttons",children:e.jsx("button",{className:"button-i",onClick:()=>v("back"),children:e.jsx("div",{style:{transform:"rotate(90deg)",display:"flex"},children:e.jsx(z,{className:"icon-default",width:20,height:20})})})}),e.jsxs("span",{className:"secondary-text",children:[e.jsxs("b",{children:[l("header.step")," ",s,"."]})," ",l(b[s-1])]})]})]})}export{V as default};
